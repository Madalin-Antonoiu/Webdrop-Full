<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Document</title>

  <style>

  </style>

</head>


<body class="main page">

  <img src="" alt="dobby" id="free-dobby" width="480">

</body>



<script>
  console.log('about to free dobby...')

  fetch('free-dobby.jpg').then(response => { //fetch the image
    console.log(response); //2. Look at result
    return response.blob(); // 3. Convert to blob
  }).then(blob => { //3.5 Chaining another promise
    console.log(blob); // 4. Look at blob
    document.getElementById('free-dobb').src = URL.createObjectURL(blob); //5.Write to DOM the converted blob
      // }); 1. But what about errors? Add . catch!
  }).catch(error => {
    console.log('Error!');
    console.error(error);
  });

  /* 
     2. What about aync/ await instead of .then ?
  */
</script>


</html>